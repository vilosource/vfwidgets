[tool:pytest]
# Pytest configuration for VFWidgets Terminal Widget

# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Minimum version
minversion = 7.0

# Output configuration
addopts =
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    --color=yes

# Coverage options (use --cov flag to enable)
# Remove from default addopts to speed up development testing
# --cov=src/vfwidgets_terminal
# --cov-report=html:htmlcov
# --cov-report=term-missing
# --cov-report=xml
# --cov-fail-under=80

# Timeout for tests (important for GUI tests)
timeout = 30
timeout_method = thread

# Markers for test categorization
markers =
    unit: Unit tests for individual components
    integration: Integration tests between components
    gui: GUI tests requiring QApplication
    slow: Tests that take longer than 10 seconds
    network: Tests requiring network connectivity
    process: Tests that spawn processes
    javascript: Tests involving JavaScript execution
    performance: Performance benchmarking tests
    reliability: Long-running reliability tests

# Qt-specific configuration
qt_api = pyside6
qt_wait_timeout = 10000

# Asyncio configuration for SocketIO tests
asyncio_mode = auto

# Test data and fixtures
cache_dir = .pytest_cache